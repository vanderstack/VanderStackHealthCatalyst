{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///src/components/person-search/PersonSearchRequest.ts","webpack:///src/boot.ts","webpack:///src/components/app/app.ts","webpack:///./src/components/app/app.html","webpack:///./src/components/app/app.scss","webpack:///src/components/navmenu/navmenu.ts","webpack:///./src/components/navmenu/navmenu.html","webpack:///src/components/pages/home/home.ts","webpack:///./src/components/pages/home/home.css","webpack:///./src/components/pages/home/home.html","webpack:///src/components/pages/person/person.ts","webpack:///./src/components/pages/person/person.html","webpack:///src/components/person-editor/person-editor.ts","webpack:///./src/components/person-editor/person-editor.css","webpack:///./src/components/person-editor/person-editor.html","webpack:///src/components/person-grid/person-grid.ts","webpack:///./src/components/person-grid/person-grid.css","webpack:///./src/components/person-grid/person-grid.html","webpack:///src/components/person-search/person-search.ts","webpack:///./src/components/person-search/person-search.html","webpack:///src/components/tag-input/tag-input.ts","webpack:///./src/components/tag-input/tag-input.css","webpack:///./src/components/tag-input/tag-input.html","webpack:///src/resources/value-converters/remove-space-value-converter.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","0","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","Promise","__webpack_exports__","PersonSearchRequest","request","cancel","_this","this","slowThreshold","isComplete","isSlow","then","response","resolve","catch","error","reject","setTimeout","console","log","configure","aurelia","use","standardConfiguration","developmentLogging","aurelia_fetch_client__WEBPACK_IMPORTED_MODULE_2__","config","withBaseUrl","document","getElementsByTagName","href","start","_a","sent","setRoot","bluebird__WEBPACK_IMPORTED_MODULE_3__","warnings","wForgottenReturn","longStackTraces","App","_fortawesome_fontawesome_svg_core__WEBPACK_IMPORTED_MODULE_1__","_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_2__","add","watch","configureRouter","router","title","map","route","settings","icon","iconName","prefix","nav","Navmenu","__decorate","aurelia_framework__WEBPACK_IMPORTED_MODULE_1__","aurelia_router__WEBPACK_IMPORTED_MODULE_0__","Home","Person","personSet","personName","undefined","activeSearch","activeSearchChanged","next","previous","onSearch","newSearch","aurelia_framework__WEBPACK_IMPORTED_MODULE_0__","Array","PersonEditor","httpClient","isSaving","tags","errors","interestSetChanged","person","personId","id","interestSet","filter","interest","trim","summary","newGuid","showEditor","nameParts","split","firstName","lastName","age","address","PhotoUrl","hideEditor","onAddClick","fetch","method","body","aurelia_fetch_client__WEBPACK_IMPORTED_MODULE_1__","isGood","status","isRejected","json","validationResult","validationErrors","replace","Math","random","toString","PersonGrid","isLoading","isRequestSlow","stockPhotoUrl","formatInterests","join","PersonSearch","activeRequest","personNameChanged","search","activeRequestChanged","token","controller","AbortController","_PersonSearchRequest__WEBPACK_IMPORTED_MODULE_2__","signal","abort","aurelia_fetch_client__WEBPACK_IMPORTED_MODULE_0__","TagInput","onClick","onTagClick","onTagBlur","onTagKey","tagsChanged","addNewTag","e","inputElement","target","focus","updateTags","onChanged","find","x","editing","addTag","removeTag","tag","idx","indexOf","editTag","edit","action","emptyTag","lastTag","which","keyCode","candidateTag","RemoveSpaceValueConverter","toView"],"mappings":"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","file":"app.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([30,1]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import { PersonModel } from \"../pages/person/PersonModel\";\r\n\r\n/** A request which handles the search for people. */\r\nexport class PersonSearchRequest {\r\n\r\n    /** A threshold which the request must complete within\r\n      * in order to avoid being considered slow.\r\n      * todo: this should come from configuration\r\n      */\r\n    private slowThreshold: number = 300;\r\n\r\n    /** The http request being processed by the browser. */\r\n    public request: Promise<{ personSet: Array<PersonModel> }>;\r\n\r\n    /** Cancels the request. */\r\n    public cancel: () => void;\r\n\r\n    /** Indicates that the request has finished. */\r\n    public isComplete: boolean = false;\r\n\r\n    /** Indicates that the request has taken longer than the slow threshold. */\r\n    public isSlow: boolean = false;\r\n\r\n    /** Creates a new request for person information . */\r\n    constructor(\r\n        request: Promise<{ personSet: Array<PersonModel> }>\r\n        , cancel: () => void\r\n    ) {\r\n        this.cancel = cancel;\r\n        this.request =\r\n            request\r\n            // add a hook to the http request to mark this\r\n            // wrapper as complete when the request has resolved.\r\n            .then((response) => {\r\n                this.isComplete = true;\r\n                return Promise.resolve(response);\r\n            })\r\n            // add a hook to the http request to mark this\r\n            // wrapper as complete when the request has failed.\r\n            .catch((error) => {\r\n                // we don't log the error out here\r\n                // because the consumer of the PersonSearchRequest\r\n                // is likely to add its own error handling.\r\n                this.isComplete = true;\r\n                return Promise.reject(error);\r\n            })\r\n        ;\r\n\r\n        // create a promise which will monitor the speed of the request.\r\n        new Promise((resolve, reject) => {\r\n            // wait until the slow threshold has passed.\r\n            setTimeout(() => { resolve(); }, this.slowThreshold);\r\n        })\r\n        .then(() => {\r\n            // set the slow flag if the request has not yet loaded\r\n            if (!this.isComplete) {\r\n                this.isSlow = true;\r\n            }\r\n        })\r\n        .catch((error) => { console.log(error); });\r\n    }\r\n}\r\n","import \"whatwg-fetch\";\r\nimport { Aurelia, PLATFORM } from \"aurelia-framework\";\r\nimport { HttpClient } from \"aurelia-fetch-client\";\r\nimport * as Bluebird from 'bluebird';\r\nimport \"bootstrap/dist/css/bootstrap.css\";\r\nimport \"bootstrap\";\r\ndeclare const IS_DEV_BUILD: boolean; // The value is supplied by Webpack during the build\r\n\r\nBluebird.config({ warnings: { wForgottenReturn: false }, longStackTraces: false }); // Dramatically decreases loading times in IE.\r\n\r\nexport async function configure(aurelia: Aurelia) {\r\n    aurelia.use.standardConfiguration();\r\n    //.plugin(PLATFORM.moduleName('aurelia-validation')) // Plugin example, you must use PLATFORM.moduleName when using webpack.\r\n\r\n    if (IS_DEV_BUILD) {\r\n        aurelia.use.developmentLogging();\r\n    }\r\n\r\n    new HttpClient().configure(config => { config.withBaseUrl(document.getElementsByTagName(\"base\")[0].href) });\r\n\r\n    await aurelia.start();\r\n    await aurelia.setRoot(PLATFORM.moduleName(\"components/app/app\"));\r\n}\r\n\r\nexport const fetchCredentials: RequestCredentials = \"include\";\r\nexport const appHeaders: string[][] = ([\r\n    ['pragma', 'no-cache'],\r\n    ['cache-control', 'no-cache']\r\n]);","import { PLATFORM } from \"aurelia-framework\";\r\nimport { Router, RouterConfiguration } from \"aurelia-router\";\r\n\r\n\r\nimport { library, dom } from '@fortawesome/fontawesome-svg-core'\r\nimport { faHome, faUsers } from '@fortawesome/free-solid-svg-icons'\r\n\r\nlibrary.add(faHome, faUsers);\r\n\r\n// Kicks off the process of finding <i> tags and replacing with <svg>\r\ndom.watch();\r\n\r\nexport class App {\r\n\tconfigureRouter(config: RouterConfiguration, router: Router) {\r\n        config.title = \"Health Catalyst Sample App\";\r\n\t\tconfig.map([{\r\n\t\t\troute: [\"\", \"home\"],\r\n\t\t\tname: \"home\",\r\n\t\t\tsettings: { icon: faHome.iconName, prefix: faHome.prefix },\r\n\t\t\tmoduleId: PLATFORM.moduleName(\"../../components/pages/home/home\"),\r\n\t\t\tnav: true,\r\n\t\t\ttitle: \"Home\"\r\n        }, {\r\n            route: 'person',\r\n                name: 'person',\r\n                settings: { icon: faUsers.iconName, prefix: faUsers.prefix },\r\n                moduleId: PLATFORM.moduleName('../../components/pages/person/person'),\r\n            nav: true,\r\n            title: 'People Search'\r\n        }]);\r\n\t}\r\n}\r\n","module.exports = \"<template>\\r\\n\\t<require from=\\\"../navmenu/navmenu\\\"></require>\\r\\n\\t<require from=\\\"./app.scss\\\"></require>\\r\\n\\t<navmenu></navmenu>\\r\\n\\t<div class=\\\"container-fluid\\\">\\r\\n\\t\\t<router-view></router-view>\\r\\n\\t</div>\\r\\n</template>\\r\\n\";","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"@media (max-width: 767px) {\\n  /* On small screens, the nav menu spans the full width of the screen. Leave a space for it. */\\n  .body-content {\\n    padding-top: 50px; } }\\n\", \"\"]);\n\n","import { Router } from \"aurelia-router\";\r\nimport { autoinject } from \"aurelia-framework\";\r\n\r\n@autoinject\r\nexport class Navmenu {\r\n    constructor(private router: Router) { }\r\n}","module.exports = \"<template>\\r\\n\\t<require from=\\\"../../resources/value-converters/remove-space-value-converter\\\"></require>\\r\\n\\t<nav class=\\\"navbar navbar-expand-lg navbar-light bg-light\\\">\\r\\n\\t\\t<a class=\\\"navbar-brand\\\" href=\\\"#/home\\\">Health Catalyst</a>\\r\\n\\t\\t<button class=\\\"navbar-toggler\\\" type=\\\"button\\\" data-toggle=\\\"collapse\\\" data-target=\\\"#navbarNav\\\" aria-controls=\\\"navbarNav\\\" aria-expanded=\\\"false\\\"\\r\\n\\t\\t aria-label=\\\"Toggle navigation\\\">\\r\\n\\t\\t\\t<span class=\\\"navbar-toggler-icon\\\"></span>\\r\\n\\t\\t</button>\\r\\n\\r\\n\\t\\t<div class=\\\"navbar-collapse collapse\\\" id=\\\"navbarNav\\\">\\r\\n\\t\\t\\t<ul class=\\\"navbar-nav\\\">\\r\\n\\t\\t\\t\\t<li repeat.for=\\\"row of router.navigation\\\" class=\\\"nav-item ${row.isActive ? 'active' : ''}\\\">\\r\\n\\t\\t\\t\\t\\t<a href.bind=\\\"row.href\\\" class=\\\"nav-link\\\" id=\\\"${ row.title | removeSpace}\\\">\\r\\n\\t\\t\\t\\t\\t\\t<span class=\\\"${row.settings.prefix} fa-${row.settings.icon}\\\"></span> ${row.title}\\r\\n\\t\\t\\t\\t\\t</a>\\r\\n\\t\\t\\t\\t</li>\\r\\n\\t\\t\\t</ul>\\r\\n\\t\\t</div>\\r\\n\\t</nav>\\r\\n</template>\";","export class Home {\r\n}\r\n","exports = module.exports = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"li.indent-one {\\r\\n    margin-left: 25px;\\r\\n}\\r\\nli.indent-two {\\r\\n    margin-left: 50px;\\r\\n}\\r\\n\\r\\n.popup-container .popup {\\r\\n    color: blue;\\r\\n}\\r\\n\\r\\n.popup-container .popup span {\\r\\n    display: none;\\r\\n}\\r\\n\\r\\n.popup-container .popup:hover {\\r\\n    /*position: relative;*/\\r\\n}\\r\\n\\r\\n/* the IE correction rule */\\r\\n.popup-container .popup:hover {\\r\\n    text-indent: 0; /* added the default value */\\r\\n    /*position: relative;*/\\r\\n}\\r\\n\\r\\n.popup-container .popup:hover span {\\r\\n    display: block;\\r\\n    position: absolute;\\r\\n    top: 10vh;\\r\\n    left: 80px;\\r\\n    /*width: 320px;*/\\r\\n    margin: 0px;\\r\\n    padding: 10px;\\r\\n    color: #335500;\\r\\n    font-weight: normal;\\r\\n    background: #e5e5e5;\\r\\n    text-align: left;\\r\\n    border: 1px solid #666;\\r\\n}\", \"\"]);\n\n","module.exports = \"<template>\\r\\n    <require from=\\\"./home.css\\\"></require>\\r\\n    <h1>Hello, Health Catalyst!</h1>\\r\\n    <p>Welcome to the <strong>People Search Sample Application</strong>, built to meet your technical requirements:</p>\\r\\n    <ul class=\\\"popup-container\\\">\\r\\n        <li><a href=\\\"https://get.asp.net/\\\" target=\\\"_blank\\\">ASP.NET Core</a> and <a href=\\\"https://msdn.microsoft.com/en-us/library/67ef8sbd.aspx\\\">C#</a> for cross-platform server-side code</li>\\r\\n        <li><a href=\\\"http://aurelia.io/\\\" target=\\\"_blank\\\">Aurelia</a> and <a href=\\\"http://www.typescriptlang.org/\\\" target=\\\"_blank\\\">TypeScript</a> for client-side code</li>\\r\\n        <li>Uses the ORM framework <a href=\\\"https://docs.microsoft.com/en-us/ef/core/\\\" target=\\\"_blank\\\">Entity Framework Core</a> to talk to the database.</li>\\r\\n        <li><span class=\\\"popup\\\">Unit Tests<span><img src=\\\"/Demo/tests.gif\\\"></span></span> for appropriate parts of the application.</li>\\r\\n    </ul>\\r\\n    <p>Business Requirements:</p>\\r\\n    <ul class=\\\"popup-container\\\">\\r\\n        <li><span class=\\\"popup\\\">The application accepts search input in a text box<span><img src=\\\"/Demo/filter.gif\\\"></span></span> and then displays in a pleasing style a list of people where any part of their first or last name matches what was typed in the search box (displaying at least name, address, age, interests, and a picture).</li>\\r\\n        <li class=\\\"indent-one\\\">The search input text box can be found by clicking the People Search menu entry.</li>\\r\\n        <li class=\\\"indent-one\\\">As search criteria is entered we display the list of people in a pleasing style.</li>\\r\\n        <li class=\\\"indent-two\\\">This is done in realtime for ideal user experience while using a debounce to avoid overloading servers.</li>\\r\\n        <li class=\\\"indent-two\\\">People are shown where any part of their first or last name matches what was typed in the search box.</li>\\r\\n        <li class=\\\"indent-two\\\">The people list displays name, address, age, interests, and a picture.</li>\\r\\n        <li style=\\\"margin-top: 5px;\\\">Solution should either seed data or <span class=\\\"popup\\\">provide a way to enter new users<span><img src=\\\"/Demo/seed-zach.gif\\\"></span></span> or both.</li>\\r\\n        <li class=\\\"indent-one\\\"><span class=\\\"popup\\\">The Add User functionality<span><img src=\\\"/Demo/seed-patrick.gif\\\"></span></span> can be found by clicking the People Search menu entry.</li>\\r\\n        <li class=\\\"indent-one\\\">This feature was put here because it made sense that when the user could not find a person they may wish to add them.</li>\\r\\n        <li class=\\\"indent-one\\\">Adding a new person automatically searches for them.</li>\\r\\n        <li style=\\\"margin-top: 5px;\\\"><span class=\\\"popup\\\">Simulate search being slow<span><img src=\\\"/Demo/latency.gif\\\"></span></span> and have the UI gracefully handle the delay.</li>\\r\\n        <li class=\\\"indent-one\\\">Simulating network functionality being slow will result in the People Search loading message being updated.</li>\\r\\n        <li class=\\\"indent-one\\\">The threshold for a slow network response is currently set to 300ms. This threshold can be trivially changed in PersonSearchRequest.ts and would ideally be part of a configuration.</li>\\r\\n        <li style=\\\"margin-top: 5px;\\\"><strong>Bonus Feature:</strong><span class=\\\"popup\\\"> Demonstrate Basic Validation.<span><img src=\\\"/Demo/validation.gif\\\"></span></span></li>\\r\\n    </ul>\\r\\n</template>\\r\\n\";","import { bindable, observable, computedFrom } from \"aurelia-framework\";\r\nimport { PersonModel } from \"./PersonModel\";\r\nimport { PersonSearchRequest } from \"../../person-search/PersonSearchRequest\";\r\n\r\n/** A component for controlling all aspects of working with People. */\r\nexport class Person {\r\n\r\n    /** The set of people currently being manipulated. */\r\n    @bindable()\r\n    public personSet: Array<PersonModel> = [];\r\n\r\n    /** Indicates there is an active request to load data. */\r\n    @computedFrom('activeSearch', 'activeSearch.isComplete')\r\n    public get isLoading(): boolean {\r\n        return this.activeSearch !== undefined && !this.activeSearch.isComplete;\r\n    }\r\n\r\n    /** Indicates that an active request to load data is running slowly. */\r\n    @computedFrom('activeSearch', 'activeSearch.isSlow')\r\n    public get isRequestSlow(): boolean {\r\n        return this.activeSearch !== undefined && this.activeSearch.isSlow;\r\n    }\r\n\r\n    /** The currently running person search. */\r\n    @bindable()\r\n    @observable()\r\n    public activeSearch: PersonSearchRequest | undefined;\r\n\r\n    /** Handles a new search becoming active by attaching result and error handlers. */\r\n    public activeSearchChanged(next: PersonSearchRequest, previous: PersonSearchRequest) {\r\n        next\r\n            .request\r\n            .then((response) => {\r\n                this.personSet = response.personSet;\r\n            })\r\n            .catch((error) => {\r\n                console.log(error);\r\n            })\r\n        ;\r\n    }\r\n\r\n    /** The currently manipulated persons name. */\r\n    @bindable()\r\n    public personName: string = \"\";\r\n\r\n    /** The method invoked by the search module when the\r\n      * search changes so that we can stay in sync.\r\n      */\r\n    public onSearch(newSearch: PersonSearchRequest) {\r\n        this.activeSearch = newSearch;\r\n    }\r\n}","module.exports = \"<template>\\r\\n    <require from=\\\"../../person-editor/person-editor\\\"></require>\\r\\n    <require from=\\\"../../person-search/person-search\\\"></require>\\r\\n    <require from=\\\"../../person-grid/person-grid\\\"></require>\\r\\n    <person-search\\r\\n        on-search.call=\\\"onSearch(newSearch)\\\"\\r\\n        person-name.two-way=\\\"personName\\\"\\r\\n    ></person-search>\\r\\n    <person-editor person-name.two-way=\\\"personName\\\"></person-editor>\\r\\n    <person-grid\\r\\n        is-loading.bind=\\\"isLoading\\\"\\r\\n        is-request-slow.bind=\\\"isRequestSlow\\\"\\r\\n        person-set.bind=\\\"personSet\\\"\\r\\n        style=\\\"display: block; margin-top: 15px;\\\"\\r\\n    ></person-grid>\\r\\n</template>\\r\\n\";","import { bindable, autoinject } from 'aurelia-framework';\r\nimport { PersonModel, InterestModel } from '../pages/person/PersonModel';\r\nimport { HttpClient, json } from 'aurelia-fetch-client';\r\n\r\n/** An editor for a person. */\r\n@autoinject()\r\nexport class PersonEditor {\r\n\r\n    /** The name of the current person. We allow this value\r\n      * to be provided from outside so that we can improve\r\n      * the user experience by pre-filling the first and\r\n      * last name fields.\r\n      */\r\n    @bindable()\r\n    public personName: string = \"\";\r\n\r\n    /** The model of the person being edited. */\r\n    @bindable()\r\n    public person: PersonModel | undefined;\r\n\r\n    /** Indicates the person being edited is being saved. */\r\n    @bindable()\r\n    public isSaving: boolean = false;\r\n\r\n    /** A tag collection for the tag-input libary to bind to.\r\n      * Unfortunately the library has some bugs and so this\r\n      * property does not serve a purpose other than to prevent\r\n      * compilation errors.\r\n      */\r\n    @bindable()\r\n    public tags: any = [];\r\n\r\n    /** The method invoked by the tag-input library when a new tag has been\r\n      * added to the set. This allows us to sync up the personModel interests.\r\n      */\r\n    public interestSetChanged(next: Array<string>, previous: Array<string>) {\r\n        if (this.person === undefined) { return; }\r\n        let personId = this.person.id;\r\n\r\n        this.person.interestSet =\r\n            next\r\n            // don't add whitespace as an interest\r\n            .filter((interest: string) => interest.trim().length)\r\n            // transform the string to an InterestModel which\r\n            // can be committed back to the API.\r\n            .map((interest: string) => {\r\n\r\n                let result = {\r\n                    summary: interest\r\n                    , personId: personId\r\n                    , id: newGuid()\r\n                } as InterestModel;\r\n\r\n                return result;\r\n            })\r\n        ;\r\n    }\r\n\r\n    /** A set of errors which need to be presented to the user. */\r\n    public errors: Array<string> = [];\r\n\r\n    /** Shows the editor. */\r\n    public showEditor(): void {\r\n        // lets try to improve the life of the user by prefilling\r\n        // the name input with their search criteria. this will\r\n        // need to be revisited if we need to support names with\r\n        // more than a single space, but this MVP is very quick.\r\n\r\n        let nameParts = this.personName.split(\" \");\r\n\r\n        // initialize a new person\r\n        let person = {\r\n            firstName: nameParts.length !== 0\r\n                ? nameParts[0]\r\n                : \"\"\r\n            , lastName: nameParts.length === 2\r\n                ? nameParts[1]\r\n                : \"\"\r\n            , age: 0\r\n            , address: \"\"\r\n            , PhotoUrl: \"\"\r\n            , id: newGuid()\r\n            , interestSet: []\r\n        };\r\n\r\n        this.person = person;\r\n        this.personName = \"\";\r\n    }\r\n\r\n    /** Hides the editor. */\r\n    public hideEditor(): void {\r\n        if (this.person === undefined) { return; }\r\n\r\n        // lets try to improve the life of our user by\r\n        // filling in the search again when they haven't\r\n        // put in new criteria. This is something the\r\n        // business should probably make a decision on.\r\n        if (this.personName === \"\") {\r\n            let personName = this.person.firstName;\r\n\r\n            if (this.person.lastName !== \"\") {\r\n                personName += \" \" + this.person.lastName;\r\n            }\r\n            this.personName = personName;\r\n        }\r\n\r\n        // reset the editor state.\r\n        this.errors = [];\r\n        this.person = undefined;\r\n    }\r\n\r\n    /** Handles the Add button click event to add the new user. */\r\n    public onAddClick(): void {\r\n        if (this.person === undefined || this.isSaving) { return; }\r\n\r\n        this.isSaving = true;\r\n\r\n        let personName = this.person.firstName;\r\n\r\n        if (this.person.lastName !== \"\") {\r\n            personName += \" \" + this.person.lastName;\r\n        }\r\n\r\n        // post the request to the server to add the new user\r\n        this.httpClient\r\n            .fetch('api/Person/', {\r\n                method: 'post'\r\n                , body: json(this.person)\r\n            })\r\n            .then(result => {\r\n\r\n                let isGood = result.status === 200;\r\n                if (isGood) {\r\n                    // handle the case where the server successfully added the new user\r\n                    this.errors = [];\r\n                    this.personName = personName;\r\n                    this.person = undefined;\r\n                }\r\n\r\n                let isRejected = result.status === 400 || result.status === 409;\r\n                if (isRejected) {\r\n                    // handle the case where the server could not validate our input\r\n                    (result.json() as Promise<{ validationErrors: Array<string> }>)\r\n                        .then((validationResult) => {\r\n                            this.errors = validationResult.validationErrors;\r\n                        })\r\n                        .catch((error) => {\r\n                            // handle the case where something unexpected went wrong such as a network error.\r\n                            this.errors = [\"Your request could not be processed. Please try again.\"]\r\n                        })\r\n                    ;\r\n                }\r\n\r\n                // handle the case where something unexpected went wrong such as a network error.\r\n                if (!isGood && !isRejected) {\r\n                    this.errors = [\"Your request could not be processed. Please try again.\"]\r\n                }\r\n\r\n                this.isSaving = false;\r\n            })\r\n            // handle the case where something unexpected went wrong such as a network error.\r\n            .catch((error) => {\r\n                this.errors = [\"Your request could not be processed. Please try again.\"]\r\n                this.isSaving = false;\r\n            })\r\n        ;\r\n    }\r\n\r\n    /** Constructs a new instance of the Editor, requiring the HttpClient as a dependency. */\r\n    public constructor(private httpClient: HttpClient) { }\r\n}\r\n\r\n/** Creates a reasonably random aproximation of a Guid for a Proof of concept. */\r\nexport function newGuid(): string {\r\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n        let r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\r\n        return v.toString(16);\r\n    });\r\n}","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"div.person-editor > div:not(.interests) {\\r\\n    display: table-row;\\r\\n}\\r\\ndiv.person-editor div label {\\r\\n    display: table-cell;\\r\\n    padding-right: 10px;\\r\\n    padding-top: 10px;\\r\\n}\\r\\ndiv.person-editor div input {\\r\\n    display: table-cell;\\r\\n    padding-right: 10px;\\r\\n    width: 300%;\\r\\n}\", \"\"]);\n\n","module.exports = \"<template>\\r\\n    <require from=\\\"../tag-input/tag-input\\\"></require>\\r\\n    <require from=\\\"./person-editor.css\\\"></require>\\r\\n    <input\\r\\n        if.bind=\\\"!person\\\"\\r\\n        type=\\\"button\\\"\\r\\n        class=\\\"button\\\"\\r\\n        value=\\\"Add New\\\"\\r\\n        click.delegate=\\\"showEditor()\\\"\\r\\n    />\\r\\n    <div if.bind=\\\"person\\\" style=\\\"margin-bottom: 10px;\\\" class=\\\"person-editor\\\">\\r\\n        <h3>Add New Person</h3>\\r\\n        <div>\\r\\n            <label for=\\\"photo\\\">Photo Url:</label>\\r\\n            <input type=\\\"text\\\" name=\\\"photo\\\" value.bind=\\\"person.PhotoUrl\\\" />\\r\\n        </div>\\r\\n        <div>\\r\\n            <label for=\\\"firstname\\\">First Name:</label>\\r\\n            <input type=\\\"text\\\" value.bind=\\\"person.firstName\\\" name=\\\"firstname\\\" />\\r\\n        </div>\\r\\n        <div>\\r\\n            <label for=\\\"lastname\\\">Last Name:</label>\\r\\n            <input type=\\\"text\\\" value.bind=\\\"person.lastName\\\" name=\\\"lastname\\\" />\\r\\n        </div>\\r\\n        <div>\\r\\n            <label for=\\\"address\\\">Address:</label>\\r\\n            <input type=\\\"text\\\" value.bind=\\\"person.address\\\" name=\\\"address\\\" />\\r\\n        </div>\\r\\n        <div>\\r\\n            <label for=\\\"age\\\">Age:</label>\\r\\n            <input type=\\\"text\\\" value.bind=\\\"person.age\\\" name=\\\"age\\\" />\\r\\n        </div>\\r\\n        <div class=\\\"interests\\\">\\r\\n            <label for=\\\"interests\\\">Interests:</label>\\r\\n            <tag-input\\r\\n                name=\\\"interests\\\"\\r\\n                tags.bind=\\\"tags\\\"\\r\\n                on-changed.call=\\\"interestSetChanged(value)\\\"\\r\\n            >\\r\\n            </tag-input>\\r\\n        </div>\\r\\n    </div>\\r\\n    <input\\r\\n        if.bind=\\\"person\\\"\\r\\n        type=\\\"button\\\"\\r\\n        class=\\\"button\\\"\\r\\n        value=\\\"Cancel\\\"\\r\\n        click.delegate=\\\"hideEditor()\\\"\\r\\n    />\\r\\n    <input\\r\\n        if.bind=\\\"person && !isSaving\\\"\\r\\n        type=\\\"button\\\"\\r\\n        class=\\\"button\\\"\\r\\n        value=\\\"Add Person\\\"\\r\\n        click.delegate=\\\"onAddClick()\\\"\\r\\n    />\\r\\n    <span if.bind=\\\"isSaving\\\">Adding new person...</span>\\r\\n    <div\\r\\n        if.bind=\\\"errors.length\\\"\\r\\n        repeat.for=\\\"error of errors\\\"\\r\\n    >\\r\\n        ${error}\\r\\n    </div>\\r\\n</template>\\r\\n\";","import { bindable } from 'aurelia-framework';\r\nimport { PersonModel, InterestModel } from '../pages/person/PersonModel';\r\n\r\n/** A grid which shows an overview of many people. */\r\nexport class PersonGrid {\r\n\r\n    /** Indicates that the grid is loading information. */\r\n    @bindable()\r\n    public isLoading: boolean = false;\r\n\r\n    /** Indicates that the request for information is running slow. */\r\n    @bindable()\r\n    public isRequestSlow: boolean = false;\r\n\r\n    /** The set of people which will be rendered into the grid. */\r\n    @bindable()\r\n    public personSet: Array<PersonModel> = [];\r\n\r\n    public stockPhotoUrl: string = '/blank-profile.png';\r\n\r\n    /** Formats the provided set of InterestModels to a comma separated list. */\r\n    public formatInterests(interestSet: Array<InterestModel>): string {\r\n        return interestSet\r\n            .map((interest) =>\r\n                interest.summary\r\n            )\r\n            .join(\", \")\r\n        ;\r\n    }\r\n}","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"table.person-grid tbody tr td {\\r\\n    vertical-align: middle;\\r\\n}\", \"\"]);\n\n","module.exports = \"<template>\\r\\n    <require from=\\\"./person-grid.css\\\"></require>\\r\\n    <p if.bind=\\\"isLoading\\\"><em>Loading...</em></p>\\r\\n    <p if.bind=\\\"isLoading && isRequestSlow\\\"><em>Thank you for your patience, loading your results is taking longer than usual.</em></p>\\r\\n    <p if.bind=\\\"!isLoading && (!personSet || personSet.length === 0)\\\"><em>No People Loaded.</em></p>\\r\\n    <table if.bind=\\\"!isLoading && (personSet && personSet.length !== 0)\\\" class=\\\"table person-grid\\\">\\r\\n        <thead>\\r\\n            <tr>\\r\\n                <th>Photo</th>\\r\\n                <th>First Name</th>\\r\\n                <th>Last Name</th>\\r\\n                <th>Address</th>\\r\\n                <th>Age</th>\\r\\n                <th>Interests</th>\\r\\n            </tr>\\r\\n        </thead>\\r\\n        <tbody>\\r\\n            <!--\\r\\n                here we are binding input provided by the end user. If any of our\\r\\n                end users are not internal/trusted we should sanatize the values\\r\\n                to prevent script injection attacks.\\r\\n            -->\\r\\n            <tr repeat.for=\\\"person of personSet\\\">\\r\\n                <td>\\r\\n                    <!--\\r\\n                        in a more robust implementation we would address edge cases.\\r\\n                        while testing i found that the photoUrl 'foo.com' resulted\\r\\n                        in the image being broken, but did not crash the application.\\r\\n                        \\r\\n                        for records where no image is on file we instead use a public domain stock photo.\\r\\n                    -->\\r\\n                    <img style=\\\"max-height: 90px; max-width: 90px; border-radius: 50%;\\\" src=\\\"${(person.photoUrl !== '' ? person.photoUrl : stockPhotoUrl) & oneTime}\\\">\\r\\n                </td>\\r\\n                <td>${ person.firstName }</td>\\r\\n                <td>${ person.lastName }</td>\\r\\n                <td>${ person.address }</td>\\r\\n                <td>${ person.age }</td>\\r\\n                <td>${ formatInterests(person.interestSet) }</td>\\r\\n            </tr>\\r\\n        </tbody>\\r\\n    </table>\\r\\n</template>\\r\\n\";","import { HttpClient, RequestInit } from 'aurelia-fetch-client';\r\nimport { inject, bindable, observable } from 'aurelia-framework';\r\nimport { PersonSearchRequest } from './PersonSearchRequest';\r\nimport { PersonModel } from '../pages/person/PersonModel';\r\n\r\n/** Performs searches for People. */\r\n@inject(HttpClient)\r\nexport class PersonSearch {\r\n    \r\n    /** A method passed in from outside which we invoke each time a search starts to keep\r\n     * consumers informed about the search status.\r\n     */\r\n    @bindable()\r\n    public onSearch: (next: { newSearch: PersonSearchRequest }) => void = (next) => { };\r\n    \r\n    /** The name currently being searched for. */\r\n    @bindable()\r\n    @observable()\r\n    public personName: string = \"\";\r\n\r\n    /** Handles the name changing to trigger a new search. */\r\n    public personNameChanged(next: string, previous: string) {\r\n        this.search(next);\r\n    }\r\n\r\n    /** The search request actively being processed by the browser and application. */\r\n    @observable()\r\n    public activeRequest: PersonSearchRequest | undefined = undefined;\r\n\r\n    /** Handles the active request changing, including cancelling the previous request\r\n      * and notifying the outside of the new request by invoking onSearch.\r\n      */\r\n    public activeRequestChanged(next: PersonSearchRequest, previous: PersonSearchRequest) {\r\n\r\n        if (previous && !previous.isComplete) {\r\n            previous.cancel()\r\n        }\r\n\r\n        this.onSearch({ newSearch: next });\r\n    }\r\n\r\n    /** Creates a new instance of the search. Requires the Http Client as a dependency */\r\n    constructor(private httpClient: HttpClient) { }\r\n\r\n    /** Initiates a new Api Search Http request. */\r\n    private search(token: string) {\r\n        if (token === undefined) { return; }\r\n\r\n        token = token.trim();\r\n        if (token === \"\") { return; }\r\n\r\n        // create a new controller responsible for aborting this request.\r\n        // we use a unique controller per request so that we could have\r\n        // multiple instances of the search component running at the same time\r\n        // and not have them cancel each others requests.\r\n        let controller = new AbortController();\r\n        let cancel = () => {\r\n            controller.abort();\r\n        }\r\n\r\n        this.activeRequest =\r\n            new PersonSearchRequest(\r\n                this.httpClient\r\n                    .fetch(`api/Person/Search/${token}`, {\r\n                        signal: controller.signal\r\n                    } as RequestInit)\r\n                    .then(result => result.json() as Promise<{ personSet: Array<PersonModel> }>)\r\n                    // no error handling because the consumer of the personSearchRequest\r\n                    // is likely to implement its own error handling.\r\n                , cancel\r\n            )\r\n        ;\r\n    }\r\n}\r\n\r\n","module.exports = \"<template>\\r\\n    <h1>People Search</h1>\\r\\n\\r\\n    <label for=\\\"person-name\\\">Enter Name:</label>\\r\\n    <input type=\\\"text\\\" name=\\\"person-name\\\" autocomplete=\\\"off\\\" value.bind=\\\"personName & debounce:250\\\" />\\r\\n</template>\\r\\n\";","import { bindable } from \"aurelia-framework\";\r\n\r\nexport class TagInput {\r\n\r\n    @bindable()\r\n    tags: Array<any>;\r\n\r\n    @bindable()\r\n    onChanged: any;\r\n\r\n    inputElement: any;\r\n\r\n    constructor() {\r\n        this.tags = [];\r\n\r\n        this.onClick = this.onClick.bind(this);\r\n\r\n        this.onTagClick = this.onTagClick.bind(this);\r\n        this.onTagBlur = this.onTagBlur.bind(this);\r\n        this.onTagKey = this.onTagKey.bind(this);\r\n    }\r\n\r\n    tagsChanged(value: any) {\r\n        if (value instanceof Array) {\r\n            this.tags = value.map(value => { return { value } });\r\n            this.addNewTag();\r\n        }\r\n    }\r\n\r\n    onClick(e: any) {\r\n        if (this.tags.length && this.inputElement === e.target) {\r\n            this.tags[this.tags.length - 1].focus = true;\r\n        }\r\n    }\r\n\r\n    updateTags() {\r\n        if (typeof this.onChanged === 'function') {\r\n            let next = this.tags.map((t: { value: any; }) => { return t.value });\r\n            this.onChanged({ value: next});\r\n        }\r\n    }\r\n\r\n    addNewTag() {\r\n        if (!this.tags.find((x: { editing: any; }) => x.editing)) {\r\n            this.addTag('', true, true);\r\n        }\r\n    }\r\n\r\n    addTag(value: any, editing = false, focus = false) {\r\n        this.tags.push({\r\n            value,\r\n            editing,\r\n            focus,\r\n        });\r\n\r\n        if (value) {\r\n            this.updateTags();\r\n        }\r\n    }\r\n\r\n    removeTag(tag: any) {\r\n        let idx = this.tags.indexOf(tag);\r\n        if (idx > -1) {\r\n            this.tags.splice(idx, 1);\r\n            this.updateTags();\r\n        }\r\n    }\r\n\r\n    editTag(tag: any, edit: any) {\r\n        tag.editing = edit;\r\n        if (!edit) {\r\n            this.updateTags();\r\n        }\r\n    }\r\n\r\n    onTagClick(tag: any, action: any) {\r\n        if (action === 'delete') {\r\n            this.removeTag(tag);\r\n            return;\r\n        }\r\n\r\n        this.editTag(tag, true);\r\n    }\r\n\r\n    onTagBlur(tag: any, e: any) {\r\n        let emptyTag = (!tag.value || !tag.value.length);\r\n        let lastTag = (this.tags.indexOf(tag) === this.tags.length - 1);\r\n\r\n        if (!emptyTag) {\r\n            this.editTag(tag, false);\r\n\r\n            if (lastTag) {\r\n                this.addNewTag();\r\n            }\r\n        }\r\n\r\n        if (!lastTag && emptyTag) {\r\n            this.removeTag(tag);\r\n        }\r\n    }\r\n\r\n    onTagKey(tag: any, e: any) {\r\n        let key = e.which || e.keyCode;\r\n        let finishTag =\r\n            key === 13 // enter\r\n            || key === 9 // tab\r\n            || key === 44 // comma\r\n            || (\r\n                // two consecutive spaces\r\n                e.key === ' '\r\n                && !tag.value.slice(-1).trim().length\r\n            )\r\n        ;\r\n\r\n        if (!finishTag) {\r\n            return true;\r\n        }\r\n\r\n        // remove whitespace\r\n        tag.value = tag.value.trim();\r\n\r\n        let isDuplicate =\r\n            undefined !== this.tags.find((candidateTag) =>\r\n                tag !== candidateTag\r\n                && tag.value === candidateTag.value\r\n            )\r\n        ;\r\n\r\n        // do not duplicate a tag\r\n        if (isDuplicate) {\r\n            // another tag already has this input\r\n            // remove this tag.\r\n            // this.removeTag(tag);\r\n            tag.value = \"\";\r\n        } else {\r\n            // mark this tag as no longer being edited\r\n            this.editTag(tag, false);\r\n\r\n            // create a new tag which will take the next input\r\n            this.addNewTag();\r\n        }\r\n            \r\n        return false;\r\n    }\r\n}","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"tag-input {\\r\\n  position: relative;\\r\\n  display: block;\\r\\n  overflow: visible;\\r\\n  cursor: text;\\r\\n  \\r\\n  width: 100%;\\r\\n  margin: 10px 0;\\r\\n\\r\\n  border: 1px solid #9e9e9e; \\r\\n  \\r\\n  border-radius: 4px; \\r\\n  padding: 2px; \\r\\n  min-height: 30px;\\r\\n}\\r\\n\\r\\n.tag-input {\\r\\n  display: inline-block;\\r\\n  position: relative;\\r\\n\\r\\n  font-weight: lighter;\\r\\n  color: #fff;\\r\\n  background: #42a5f5;\\r\\n  \\r\\n  border-radius: 4px;\\r\\n  padding: 4px;\\r\\n  margin: 2px;\\r\\n}\\r\\n\\r\\n.tag-input.editing {\\r\\n    background: transparent;\\r\\n    color: #000;\\r\\n    font-weight: normal;\\r\\n}\\r\\n\\r\\n.tag-input.editing .inner-input {\\r\\n  max-width: 100%;\\r\\n}\\r\\n\\r\\n\\r\\n.tag-input .inner-input {\\r\\n  margin: 0;\\r\\n  display: inline-block;\\r\\n  min-width: 15px;\\r\\n  max-width: 94%;\\r\\n  vertical-align: middle;\\r\\n}\\r\\n\\r\\n.tag-input .inner-input:focus {\\r\\n  outline: none;  \\r\\n}\\r\\n\\r\\n.tag-input .close-input {\\r\\n  display: inline-block;\\r\\n  padding-left: 2px;\\r\\n  padding-right: 4px;\\r\\n  vertical-align: top;\\r\\n}\\r\\n\\r\\n.tag-input .close-input:hover {\\r\\n  cursor: pointer;\\r\\n}\", \"\"]);\n\n","module.exports = \"<template>\\r\\n    <require from=\\\"./tag-input.css\\\"></require>\\r\\n    <div class=\\\"input\\\" click.delegate=\\\"onClick($event)\\\" ref=\\\"inputElement\\\">\\r\\n\\r\\n        <div repeat.for=\\\"tag of tags\\\"\\r\\n             keypress.delegate=\\\"onTagKey(tag, $event)\\\"\\r\\n             class=\\\"tag-input ${tag.editing ? 'editing' : ''}\\\">\\r\\n\\r\\n            <div class=\\\"inner-input\\\" contenteditable=\\\"true\\\"\\r\\n                 textcontent.two-way=\\\"tag.value\\\"\\r\\n                 focus.bind=\\\"tag.focus\\\"\\r\\n                 click.delegate=\\\"onTagClick(tag, 'edit')\\\"\\r\\n                 blur.trigger=\\\"onTagBlur(tag, $event)\\\"\\r\\n            >\\r\\n            </div>\\r\\n            <span class=\\\"close-input\\\"\\r\\n                  show.bind=\\\"!tag.editing\\\"\\r\\n                  click.delegate=\\\"onTagClick(tag, 'delete')\\\">x</span>\\r\\n        </div>\\r\\n    </div>\\r\\n\\r\\n</template>\";","export class RemoveSpaceValueConverter {\r\n    toView(value: string) {\r\n        if (value) {\r\n            try {\r\n                return value.replace(/\\s/g, '');\r\n            } catch (error) {\r\n                console.log(`Error in remove-space-value-converter: ${error}`);\r\n            }\r\n        }\r\n    }\r\n}"],"sourceRoot":""}